client = require("../machinelearning/client")

var data = [{'sentTo': ' House ','date': ' 2019-01-01T00:00:00.000Z ','amount': 400 },     
{'sentTo': ' Tesco ','date': ' 2019-01-02T00:00:00.000Z ','amount': 14 },      
{'sentTo': ' Night out ','date': ' 2019-01-04T00:00:00.000Z ','amount': 14 },  
{'sentTo': ' bigspend ','date': ' 2019-01-06T00:00:00.000Z ','amount': 13000 },
{'sentTo': ' Tesco ','date': ' 2019-01-07T00:00:00.000Z ','amount': 24 },      
{'sentTo': ' Tesco ','date': ' 2019-01-09T00:00:00.000Z ','amount': 14 },      
{'sentTo': ' Night out ','date': ' 2019-01-11T00:00:00.000Z ','amount': 14 },  
{'sentTo': ' Tesco ','date': ' 2019-01-14T00:00:00.000Z ','amount': 24 },      
{'sentTo': ' Tesco ','date': ' 2019-01-16T00:00:00.000Z ','amount': 14 },      
{'sentTo': ' Night out ','date': ' 2019-01-18T00:00:00.000Z ','amount': 14 },  
{'sentTo': ' Tesco ','date': ' 2019-01-21T00:00:00.000Z ','amount': 24 },      
{'sentTo': ' Tesco ','date': ' 2019-01-23T00:00:00.000Z ','amount': 14 },      
{'sentTo': ' Night out ','date': ' 2019-01-25T00:00:00.000Z ','amount': 14 },  
{'sentTo': ' Tesco ','date': ' 2019-01-28T00:00:00.000Z ','amount': 24 },      
{'sentTo': ' Tesco ','date': ' 2019-01-30T00:00:00.000Z ','amount': 14 },      
{'sentTo': ' Night out ','date': ' 2019-02-01T00:00:00.000Z ','amount': 14 },  
{'sentTo': ' House ','date': ' 2019-02-01T00:00:00.000Z ','amount': 400 },     
{'sentTo': ' Tesco ','date': ' 2019-02-04T00:00:00.000Z ','amount': 24 },      
{'sentTo': ' Tesco ','date': ' 2019-02-06T00:00:00.000Z ','amount': 14 },      
{'sentTo': ' Night out ','date': ' 2019-02-08T00:00:00.000Z ','amount': 14 },  
{'sentTo': ' Tesco ','date': ' 2019-02-11T00:00:00.000Z ','amount': 24 },      
{'sentTo': ' Tesco ','date': ' 2019-02-13T00:00:00.000Z ','amount': 14 },      
{'sentTo': ' Night out ','date': ' 2019-02-15T00:00:00.000Z ','amount': 14 },  
{'sentTo': ' Tesco ','date': ' 2019-02-18T00:00:00.000Z ','amount': 24 },      
{'sentTo': ' Tesco ','date': ' 2019-02-20T00:00:00.000Z ','amount': 14 },      
{'sentTo': ' Night out ','date': ' 2019-02-22T00:00:00.000Z ','amount': 14 },  
{'sentTo': ' Tesco ','date': ' 2019-02-25T00:00:00.000Z ','amount': 24 },      
{'sentTo': ' Tesco ','date': ' 2019-02-27T00:00:00.000Z ','amount': 14 },      
{'sentTo': ' Night out ','date': ' 2019-03-01T00:00:00.000Z ','amount': 14 },
{'sentTo': ' House ','date': ' 2019-03-01T00:00:00.000Z ','amount': 400 },
{'sentTo': ' Tesco ','date': ' 2019-03-04T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-03-06T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-03-08T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-03-11T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-03-13T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-03-15T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-03-18T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-03-20T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-03-22T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-03-25T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-03-27T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-03-29T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-04-01T00:00:00.000Z ','amount': 24 },
{'sentTo': ' House ','date': ' 2019-04-01T00:00:00.000Z ','amount': 400 },
{'sentTo': ' Tesco ','date': ' 2019-04-03T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-04-05T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-04-08T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-04-10T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-04-12T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-04-15T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-04-17T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-04-19T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-04-22T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-04-24T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-04-26T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-04-29T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-05-01T00:00:00.000Z ','amount': 14 },
{'sentTo': ' House ','date': ' 2019-05-01T00:00:00.000Z ','amount': 400 },
{'sentTo': ' Night out ','date': ' 2019-05-03T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-05-06T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-05-08T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-05-10T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-05-13T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-05-15T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-05-17T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-05-20T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-05-22T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-05-24T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-05-27T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-05-29T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-05-31T00:00:00.000Z ','amount': 14 },
{'sentTo': ' House ','date': ' 2019-06-01T00:00:00.000Z ','amount': 400 },
{'sentTo': ' Tesco ','date': ' 2019-06-03T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-06-05T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-06-07T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-06-10T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-06-12T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-06-14T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-06-17T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-06-19T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-06-21T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-06-24T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-06-26T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-06-28T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-07-01T00:00:00.000Z ','amount': 24 },
{'sentTo': ' House ','date': ' 2019-07-01T00:00:00.000Z ','amount': 400 },
{'sentTo': ' Tesco ','date': ' 2019-07-03T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-07-05T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-07-08T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-07-10T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-07-12T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-07-15T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-07-17T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-07-19T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-07-22T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-07-24T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-07-26T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-07-29T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-07-31T00:00:00.000Z ','amount': 14 },
{'sentTo': ' House ','date': ' 2019-08-01T00:00:00.000Z ','amount': 400 },
{'sentTo': ' Night out ','date': ' 2019-08-02T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-08-05T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-08-07T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-08-09T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-08-12T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-08-14T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-08-16T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-08-19T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-08-21T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-08-23T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-08-26T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-08-28T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-08-30T00:00:00.000Z ','amount': 14 },
{'sentTo': ' House ','date': ' 2019-09-01T00:00:00.000Z ','amount': 400 },
{'sentTo': ' Tesco ','date': ' 2019-09-02T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-09-04T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-09-06T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-09-09T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-09-11T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-09-13T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-09-16T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-09-18T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-09-20T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-09-23T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-09-25T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-09-27T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-09-30T00:00:00.000Z ','amount': 24 },
{'sentTo': ' House ','date': ' 2019-10-01T00:00:00.000Z ','amount': 400 },
{'sentTo': ' Tesco ','date': ' 2019-10-02T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-10-04T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-10-07T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-10-09T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-10-11T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-10-14T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-10-16T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-10-18T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-10-21T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-10-23T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-10-25T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-10-28T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-10-30T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-11-01T00:00:00.000Z ','amount': 14 },
{'sentTo': ' House ','date': ' 2019-11-01T00:00:00.000Z ','amount': 400 },
{'sentTo': ' Tesco ','date': ' 2019-11-04T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-11-06T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-11-08T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-11-11T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-11-13T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-11-15T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-11-18T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-11-20T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-11-22T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-11-25T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-11-27T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-11-29T00:00:00.000Z ','amount': 14 },
{'sentTo': ' House ','date': ' 2019-12-01T00:00:00.000Z ','amount': 400 },
{'sentTo': ' Tesco ','date': ' 2019-12-02T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-12-04T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-12-06T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-12-09T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-12-11T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-12-13T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-12-16T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-12-18T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-12-20T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Tesco ','date': ' 2019-12-23T00:00:00.000Z ','amount': 24 },
{'sentTo': ' Tesco ','date': ' 2019-12-25T00:00:00.000Z ','amount': 14 },
{'sentTo': ' Night out ','date': ' 2019-12-27T00:00:00.000Z ','amount': 14 },
];
stringifiedTransactions=JSON.stringify(data);

test('predicts a variety transactions', done => {
  function callback(data) {
    try {
      expect(data).toBe('622.53');
      done();
    } catch (error) {
      done(error);
    }
  }
  client.req(stringifiedTransactions,'ws://0.0.0.0:5003/',(data)=>{(callback(data))});
});
