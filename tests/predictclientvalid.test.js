
var data = {
  "transactions": [{
    "recipient": "House",
    "date": "2019-01-01",
    "amount": 400.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-01-02",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-01-04",
    "amount": 14.0
  },
  {
    "recipient": "bigspend",
    "date": "2019-01-06",
    "amount": 13000.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-01-07",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-01-09",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-01-11",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-01-14",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-01-16",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-01-18",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-01-21",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-01-23",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-01-25",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-01-28",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-01-30",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-02-01",
    "amount": 14.0
  },
  {
    "recipient": "House",
    "date": "2019-02-01",
    "amount": 400.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-02-04",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-02-06",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-02-08",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-02-11",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-02-13",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-02-15",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-02-18",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-02-20",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-02-22",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-02-25",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-02-27",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-03-01",
    "amount": 14.0
  },
  {
    "recipient": "House",
    "date": "2019-03-01",
    "amount": 400.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-03-04",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-03-06",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-03-08",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-03-11",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-03-13",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-03-15",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-03-18",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-03-20",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-03-22",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-03-25",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-03-27",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-03-29",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-04-01",
    "amount": 24.0
  },
  {
    "recipient": "House",
    "date": "2019-04-01",
    "amount": 400.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-04-03",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-04-05",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-04-08",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-04-10",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-04-12",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-04-15",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-04-17",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-04-19",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-04-22",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-04-24",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-04-26",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-04-29",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-05-01",
    "amount": 14.0
  },
  {
    "recipient": "House",
    "date": "2019-05-01",
    "amount": 400.0
  },
  {
    "recipient": "Night out",
    "date": "2019-05-03",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-05-06",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-05-08",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-05-10",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-05-13",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-05-15",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-05-17",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-05-20",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-05-22",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-05-24",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-05-27",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-05-29",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-05-31",
    "amount": 14.0
  },
  {
    "recipient": "House",
    "date": "2019-06-01",
    "amount": 400.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-06-03",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-06-05",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-06-07",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-06-10",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-06-12",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-06-14",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-06-17",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-06-19",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-06-21",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-06-24",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-06-26",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-06-28",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-07-01",
    "amount": 24.0
  },
  {
    "recipient": "House",
    "date": "2019-07-01",
    "amount": 400.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-07-03",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-07-05",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-07-08",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-07-10",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-07-12",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-07-15",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-07-17",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-07-19",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-07-22",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-07-24",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-07-26",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-07-29",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-07-31",
    "amount": 14.0
  },
  {
    "recipient": "House",
    "date": "2019-08-01",
    "amount": 400.0
  },
  {
    "recipient": "Night out",
    "date": "2019-08-02",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-08-05",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-08-07",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-08-09",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-08-12",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-08-14",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-08-16",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-08-19",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-08-21",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-08-23",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-08-26",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-08-28",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-08-30",
    "amount": 14.0
  },
  {
    "recipient": "House",
    "date": "2019-09-01",
    "amount": 400.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-09-02",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-09-04",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-09-06",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-09-09",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-09-11",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-09-13",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-09-16",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-09-18",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-09-20",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-09-23",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-09-25",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-09-27",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-09-30",
    "amount": 24.0
  },
  {
    "recipient": "House",
    "date": "2019-10-01",
    "amount": 400.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-10-02",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-10-04",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-10-07",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-10-09",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-10-11",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-10-14",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-10-16",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-10-18",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-10-21",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-10-23",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-10-25",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-10-28",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-10-30",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-11-01",
    "amount": 14.0
  },
  {
    "recipient": "House",
    "date": "2019-11-01",
    "amount": 400.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-11-04",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-11-06",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-11-08",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-11-11",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-11-13",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-11-15",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-11-18",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-11-20",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-11-22",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-11-25",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-11-27",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-11-29",
    "amount": 14.0
  },
  {
    "recipient": "House",
    "date": "2019-12-01",
    "amount": 400.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-12-02",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-12-04",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-12-06",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-12-09",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-12-11",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-12-13",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-12-16",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-12-18",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-12-20",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-12-23",
    "amount": 24.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-12-25",
    "amount": 14.0
  },
  {
    "recipient": "Night out",
    "date": "2019-12-27",
    "amount": 14.0
  },
  {
    "recipient": "Tesco",
    "date": "2019-12-30",
    "amount": 250.0
  }]
};

//remember to stringify JSON data first
const obj = JSON.stringify(data);
//make sure to require the correct client with the correct path
//const client = require('../machinelearning/fraud/fraudclient');
const client = require('../machinelearning/client');

test('predicts a variety transactions', done => {
  function callback(data) {
    try {
      expect(data).toBe('630.56');
      done();
    } catch (error) {
      done(error);
    }
  }
  client.req(obj,'ws://0.0.0.0:5003/',(data)=>{(callback(data))});
});
